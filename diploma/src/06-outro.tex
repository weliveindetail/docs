
%\enlargethispage{0.5cm}
Das in Kapitel \ref{sec:concept} erarbeitete Konzept eines integrierten, interaktiven Same-Process Debuggers wurde für den Spezialfall der domänenspezifischen Sprache Reaktor Core in Form eines Prototypen erfolgreich realisiert. Im Mittelpunkt stand die Realisierung der Ablaufkontrollmechanismen von Trace-Debuggern unter den speziellen Anforderungen der Echtzeitverarbeitung.

Zunächst wurden einige Arbeitsschritte zur Übersetzungszeit erforderlich. Neben der Aufzeichnung verschiedener Programmdaten wurde eine Kontrollflussanalyse sowie eine spezielle Kompilierung des Prüflingsprogramms nötig. Durch die Einteilung des Prüflingscodes in sequenzielle Befehlsblöcke wurde die Realisierung eines Breakpoint-Verfahrens bei minimaler Streuung des Maschinencodes im Speicher möglich. Damit kann die Ausführbarkeit des Prüflings in Echtzeit gewährleistet werden. Für die Aufzeichnung der Programmdaten kam ein Benachrichtigungsmechanismus zum Einsatz, der es ermöglicht die Verfahren für Analyse und strukturierte Speicherung der Programmdaten außerhalb des Compilers zu implementieren. Durch die Realisierung des Aufzeichnungsmoduls als Zustandsautomat konnten die nötigen Anpassungen am Quellcode des Compilers minimiert werden. Der für die Kontrollflussanalyse entworfene Algorithmus arbeitet parallel zum Übersetzungsvorgang. Damit ist weder eine zusätzliche Analysephase noch die Speicherung größerer Datenmengen erforderlich. Der Übersetzungsvorgang wird daher nur in geringem Maße verzögert.

%Die Verzögerung des Übersetzungsvorgangs konnte gering gehalten werden.

Zur Laufzeit lag das Hauptaugenmerk auf der Manipulation des Prüflingscodes und der Realisierung von Unterbrechungen unter den speziellen Anforderungen der Echtzeitverarbeitung. Die Idee des Callback-Points im Prüfling ermöglicht das Einfügen von Breakpoints zur Laufzeit ohne die Verwendung blockierender Anweisungen. Die Unterbrechung der Ausführung des Prüflings wurde durch die Entkopplung des Aufrufstacks erreicht. Der Mechanismus ermöglicht eine Rückkehr der Ausführung im Echtzeit-Thread innerhalb der gebräuchlichen Zeitschranken. Eine wichtige Voraussetzung für Debugger -- die Möglichkeit Fehlerwirkungen zu erkennen -- wird dadurch gewährleistet. Denn der Prüfling kann auch im Debug-Modus wie gewohnt in Echtzeit ausgeführt werden, ohne dass bei einer Unterbrechung der Ausführung die Gefahr einer Verletzung von Echtzeitbedingungen besteht. Die Ausführung kann zudem durch einen Behelfs-Thread beliebig häufig fortgesetzt und erneut unterbrochen werden. Die Implementierung konnte weitgehend unabhängig von den technischen Details der zugrundeliegenden Plattform erfolgen.

%\noindent
Die in Kapitel \ref{sec:impl} beschriebenen Implementierungen wurden in Version 5.7 von Reaktor vorgenommen. Des Weiteren wurden verschiedene Funktionalitäten wie die Anbindung der Benutzeroberfläche implementiert, die im Rahmen dieser Arbeit nicht vorgestellt werden konnten. Die Zielstellung bei der Implementierung des Prototypen war die Realisierung eines Einzelschrittverfahrens. Unter Beachtung einiger Einschränkungen, die bereits im Vorfeld bekannt waren, ist dies gelungen. Die vorrangige Einschränkung bildet die mangelnde Einbeziehung der hierarchischen Struktur von Core Cells. Die Ursache dafür liegt in der Auflösung dieser Struktur durch den Compiler in einer frühen Phase des Übersetzungsvorgangs. Im Rahmen der Entwicklung des Prototypen war dies akzeptabel.

Aufgrund der einfachen Struktur von Reaktor Core Programmen konnten an verschiedenen Stellen der Konzeption Vereinfachungen vorgenommen werden. Dies trug dazu bei, dass die Implementierung der Ablaufkontrollmechanismen mit einem vertretbaren Aufwand möglich war. Im betrachteten Umfeld ist eine vergleichsweise einfache Programmstruktur häufig zu finden. Dies gilt für domänenspezifische Sprachen im Allgemeinen und für Sprachen der digitalen Signalverarbeitung im Besonderen. Die Konzeption setzt diese Einschränkungen jedoch nicht voraus. Ist ein entsprechend höherer Implementierungsaufwand akzeptabel, ist eine Verwendung auch in mächtigeren strukturierten Programmiersprachen denkbar.

Zusammenfassend lässt sich erkennen, dass sich der entwickelte Prototyp noch nicht für das Auffinden von Programmdefekten im Produktiveinsatz eignet. Er kann jedoch bereits jetzt bei der Einarbeitung in die Programmierung mit Reaktor Core behilflich sein. Die wesentlichen Problemstellungen konnten im Rahmen dieser Arbeit gelöst und im Prototypen implementiert werden. Dies bildet eine gute Grundlage für die zukünftige Weiterentwicklung. 

%Für universelle Programmiersprachen wird die Realisierung von Same-Process Debuggern nach dem hier erarbeiteten Konzept für nicht umsetzbar erachtet.
